# its_a_scam

It's a scam To Sell Another Single-Cell Analysis Tool (It's a scam) is a
collection of programs to pre-process and quality control single cell
data.

The era of designing bioinformatic pipelines using open source
tools is giving way to monolithic, and often proprietary, tools designed
for end-to-end analysis. While these tools can be convenient for going
from sequencing data to an almost complete data analysis "in a few
clicks", they are severely limiting to perform any custom analysis. We
developed its_a_scam for processing and quality control of single cell
genomic data, freeing users from the reliance on proprietary tools for
single cell data analysis.

its_a_scam is built of top on `gcatlib` and `HTSlib`, and provides tools
for wide range of single cell data processing and quality control.  It's
a scam can be used in conjugation with commonly used open source tools
to build entire single cell analysis pipelines. 


## Installation
It's a scam is dependent on `HTSlib` and `gcatlib`. `HTSlib` can be
downloaded from [here](https://www.htslib.org/download/) and 
can be installed by following the procedure under 
'Basic Installation' described 
[here](https://github.com/samtools/htslib/blob/develop/INSTALL)

`gcat` can be downloaded
[here](https://github.com/rishvanth-kp/gcatlib),
and the installation is described 
[here](https://github.com/rishvanth-kp/gcatlib). 

`its_a_scam` can be obtained from here.

Untar the source files using:
```
tar -xf its_a_scam-0.0.1.tar.gz
```

Create a build directory with:
```
cd its_a_scam-0.0.1
mkdir build 
cd build
```

`its_a_scam` is installed using the `autotools` build system.  The first
step is to run a configuration script to generate the required
Makefiles. The parameters to `configure` will vary based on where the
dependent libraries are installed, and where we would like `its_a_scam`
to be installed. 

If `HTSlib` and `gcatlib` are installed in the standard system paths
(typically `/usr/bin` and `/usr/lib`), and if we would like `its_a_scam`
to be installed in the standard system paths, use the following: 
```
../configure
```

If `HTSlib` and `gcatlib` are installed in non-standard directories,
the `configure` script should be executed with:
```
../configure CPPFLAGS='-I/path_to_htslib/include -I/path_to_gcatlib/include' 
LDFLAGS='-L/path_to_htslib/lib -L/path_to_gcatlib/lib'
```

To install its_a_scam in a non-standard directory use:
```
../configure --prefix installation_path
```

Append the `CPPFLAGS` and `LDFLAGS` to the above command if any of the
dependent libraries are in non-standard paths.


The configuration is now complete and the build system is ready to
compile all the programs with:
```
make [-j threads]
```
This will generate the programs into the `build` directory.


Finally (optionally), install its_a_scam with:
```
make install
```
This will copy all the programs into `installation_path/bin`.


The installation can be tested by running any executable. On successful
installation the you will an output describing the program's arguments. 

If you get the following error message 
`error while loading shared libraries: libhts.so.3: cannot open shared object file: No such file or directory `, 
it likely means that `HTSlib` is in a non-standard path and that is not
know to the program. This can be fixed adding the path to
`LD_LIBRARY_PATH` environment variables:
```
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path_to_htslib/lib/
```


Of note, if you have cloned the Git repo, it does not include the
`configure` script. This can be generated by executing:
```
autoreconf -i
```
After which the configuration and installation can proceed as usual.

## Documentation
The documentation of its_a_scam can be found 
[here](https://github.com/rishvanth-kp/its_a_scam/tree/main/doc).
This is still a work in progress and will soon be hosted online.


## Contact
Rishvanth Prabakar: kaliapp@cshl.edu

## Copyright and License Information
Copyright (C) 2025 Rishvanth Prabakar

Authors: Rish Prabakar

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
